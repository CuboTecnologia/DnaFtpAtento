<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-body">
                @Html.ActionLink("Novo Processamento", "Create", null, new { @class = "btn btn-primary" })
            </div>
            <div class="panel-heading">Listagem de Arquivos</div>
            <div class="panel-body">
                <table id="table" class="display" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Entrada</th>
                            <th>Saída</th>
                            <th>Arquivo</th>
                            <th>Status</th>
                            <th>Registro</th>
                            <th>Início Execução</th>
                            <th>Término Execução</th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Codigo)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LayoutEntrada.Nome)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LayoutSaida.Nome)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.NomeArquivoEntrada)
                                </td>
                                <td>
                                    @if (item.Status.Codigo == 6)
                                    {
                                        @Html.ActionLink("Download de Arquivo Retorno Disponível", "DownloadArquivo", "ControleArquivo", new { itemCodigo = item.Codigo }, null)
                                    }
                                    else
                                    {
                                        @Html.DisplayFor(modelItem => item.Status.DescricaoStatus)
                                    }
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.DataRegistro)
                                </td>
                                <td>
                                    @(item.DataInicioExecucao == null ? "--" : ((DateTime)item.DataInicioExecucao).ToString("dd/MM/yyyy HH:mm"))
                                </td>
                                <td>
                                    @(item.DataTerminoExecucao == null ? "--" : ((DateTime)item.DataTerminoExecucao).ToString("dd/MM/yyyy HH:mm"))
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>